@model SharePassword.ViewModels.ShareCredentialViewModel
@{
    ViewData["Title"] = "Shared Credentials";
}

<h2>Shared Credentials</h2>

<div class="alert alert-info">
    These credentials are available until <strong>@Model.ExpiresAtUtc.ToString("u")</strong>.
</div>

<dl class="row">
    <dt class="col-sm-2">Username</dt>
    <dd class="col-sm-10">@Model.Username</dd>

    <dt class="col-sm-2">Secret text</dt>
    <dd class="col-sm-10">
        <textarea class="form-control" rows="10" readonly>@Model.Password</textarea>
    </dd>

    <dt class="col-sm-2">Instructions</dt>
    <dd class="col-sm-10">
        <textarea class="form-control" rows="10" readonly>@Model.Instructions</textarea>
    </dd>
</dl>

<form asp-action="DeleteAfterRetrieve" method="post" onsubmit="return confirmPasswordDelete();">
    <input asp-for="ShareId" type="hidden" />
    <input asp-for="RecipientEmail" type="hidden" />
    <button type="submit" class="btn btn-danger">I have retrieved the password. Delete the password</button>
</form>

<script>
    function confirmPasswordDelete() {
        return window.confirm("Please confirm: delete this password now? This action cannot be undone.");
    }
</script>
